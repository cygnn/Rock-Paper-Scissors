<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let score = [0, 0];
        function getComputerChoice(){
            const choice = ['rock', 'paper', 'scissors'];
            let result = choice[Math.floor(Math.random()*3)];
            return result;
        }
        function showScore(){
            return console.log(`Live score: ${score[0]} to ${score[1]}`)
        }

        function playRound(playerSelection, computerSelection) {
            playerSelection = prompt("What would you play? Rock, Paper or Scissors?").toLowerCase();
            computerSelection = getComputerChoice();
            console.log('Player selection =' + playerSelection);
            console.log('Computer slection = ' + computerSelection);
            if (playerSelection == 'rock' && computerSelection == 'paper'){
                score[1] += 1;
                return console.log('You lose! Paper beats Rock.'), showScore();
            }
            else if (playerSelection == 'paper' && computerSelection == 'scissors'){
                score[1] += 1;
                return console.log('You lose! Scissors beats Paper.'), showScore();
            }
            else if (playerSelection == 'scissors' && computerSelection == 'rock'){
                score[1] += 1;
                return console.log('You lose! Rock beats Scissors.'), showScore();
            }
            else if (playerSelection == 'rock' && computerSelection == 'scissors'){
                score[0] += 1;
                return console.log('You Win! Rock beats Scissors.'), showScore();
            }
            else if (playerSelection == 'paper' && computerSelection == 'rock'){
                score[0] += 1;
                return console.log('You Win! Paper beats Rock.'), showScore();
            }
            else if (playerSelection == 'scissors' && computerSelection == 'paper'){
                score[0] += 1;
                return console.log('You Win! Scissors beats Paper.'), showScore();
            }
            else{
                return console.log("It's a tie!"), showScore();
            }
        }

        function playGame(){
            for (let i = 0; i < 5; i++){
                playRound(playerSelection, computerSelection);
            }
            if(score[0] > score[1]){
                return `The games has ended! You won!\nFinal score: ${score[0]} to ${score[1]}`;
            }
            else if(score[1] > score[0]){
                return `The game has ended! You lost!\nFinal score: ${score[0]} to ${score[1]}`;
            }
            else{
                return 'You tied!';
            }
        }
        let playerSelection;
        let computerSelection;
        console.log(playGame());
    </script>
</body>
</html>