<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <script>
        let playerSelection;
        let computerSelection;
        let score = [0, 0];
        const mainContainer = document.createElement('div');
        const title = document.createElement('h1');
        const secondaryContainer = document.createElement('div');
        const body = document.querySelector('body');
        const rock = document.createElement('button');
        const paper = document.createElement('button');
        const scissors = document.createElement('button');
        const div = document.createElement('div');
        const p = document.createElement('p');
        const scoreContainer = document.createElement('div');
        let runningScore = document.createElement('p');
        const winner = document.createElement('p');
        
        title.textContent = 'ROCK PAPER SCISSORS';
        secondaryContainer.appendChild(title);
        mainContainer.appendChild(secondaryContainer);
        mainContainer.classList.add("mainContainer");
        mainContainer.appendChild(rock);
        mainContainer.appendChild(paper);
        mainContainer.appendChild(scissors);
        mainContainer.appendChild(winner);

        rock.textContent = 'Rock';
        scissors.textContent = 'Scissors';
        paper.textContent = 'Paper';

        body.appendChild(mainContainer);
    
        rock.addEventListener('click', () =>{
            playerSelection = 'rock';
            playRound(playerSelection, computerSelection);
            checkWinner(score);
        });

        paper.addEventListener('click', () =>{
            playerSelection = 'paper';
            playRound(playerSelection, computerSelection);
            checkWinner(score);
        });
        
        scissors.addEventListener('click', () =>{
            playerSelection = 'scissors';
            playRound(playerSelection, computerSelection);
            checkWinner(score);
        });

        function checkWinner(score){
            if(score[0] === 5){
            winner.textContent = 'Player Wins!';
                rock.remove();
                paper.remove();
                scissors.remove();
            }
            else if(score[1] === 5) {
                winner.textContent = 'Computer Wins!';
                rock.remove();
                paper.remove();
                scissors.remove();
            }
        }
        
        
        div.appendChild(p);
        body.appendChild(div);
        scoreContainer.appendChild(runningScore);
        body.appendChild(scoreContainer);
        

        
        function getComputerChoice(){
            const choice = ['rock', 'paper', 'scissors'];
            let result = choice[Math.floor(Math.random()*3)];
            return result;
        }
        function showScore(){
            return console.log(`Live score: ${score[0]} to ${score[1]}`)
        }

        function showScoreHTML(){
            return `Running score: ${score[0]} to ${score[1]}`;
        }

        function playRound(playerSelection, computerSelection) {
            computerSelection = getComputerChoice();
            console.log('Player selection =' + playerSelection);
            console.log('Computer slection = ' + computerSelection);
            if (playerSelection == 'rock' && computerSelection == 'paper'){
                score[1] += 1;
                p.textContent = 'You lose! Paper beats Rock.';
                runningScore.textContent = showScoreHTML();
                return console.log('You lose! Paper beats Rock.'), showScore();
            }
            else if (playerSelection == 'paper' && computerSelection == 'scissors'){
                score[1] += 1;
                p.textContent = 'You lose! Scissors beats Paper.';
                runningScore.textContent = showScoreHTML();
                return console.log('You lose! Scissors beats Paper.'), showScore();
            }
            else if (playerSelection == 'scissors' && computerSelection == 'rock'){
                score[1] += 1;
                p.textContent = 'You lose! Rock beats Scissors.';
                runningScore.textContent = showScoreHTML();
                return console.log('You lose! Rock beats Scissors.'), showScore();
            }
            else if (playerSelection == 'rock' && computerSelection == 'scissors'){
                score[0] += 1;
                p.textContent = 'You Win! Rock beats Scissors.';
                runningScore.textContent = showScoreHTML();
                return console.log('You Win! Rock beats Scissors.'), showScore();
            }
            else if (playerSelection == 'paper' && computerSelection == 'rock'){
                score[0] += 1;
                p.textContent = 'You Win! Paper beats Rock.';
                runningScore.textContent = showScoreHTML();
                return console.log('You Win! Paper beats Rock.'), showScore();
            }
            else if (playerSelection == 'scissors' && computerSelection == 'paper'){
                score[0] += 1;
                p.textContent = 'You Win! Scissors beats Paper.';
                runningScore.textContent = showScoreHTML();
                return console.log('You Win! Scissors beats Paper.'), showScore();
            }
            else{
                p.textContent ="It's a tie!";
                runningScore.textContent = showScoreHTML();
                return console.log("It's a tie!"), showScore();
            }
        }
    </script>
</body>
</html>